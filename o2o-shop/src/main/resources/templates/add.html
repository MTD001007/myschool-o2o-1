<!DOCTYPE html>
<html lang="en">
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>店铺入住申请</title>
    <script type="text/javascript" th:src="@{/js/jquery-3.1.0.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/echarts.min.js}"></script>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet" type="text/css" />
    <!--验证-->
    <link th:href="@{/css/validationEngine.jquery.css}" rel="stylesheet" type="text/css" />
    <script type="text/javascript" th:src="@{/js/jquery.validationEngine-zh_CN.js}" charset="utf-8"></script>
    <script type="text/javascript" th:src="@{/js/jquery.validationEngine.js}" charset="utf-8"></script>

    <script>

        // This method is called right before the ajax form validation request
        // it is typically used to setup some visuals ("Please wait...");
        // you may return a false to stop the request
        function beforeCall(form, options){
            if (console)
                console.log("Right before the AJAX form validation call");
            return true;
        }

        // Called once the server replies to the ajax form validation request
        function ajaxValidationCallback(status, form, json, options){
            if (console)
                console.log(status);

            if (status === true) {
                alert("the form is valid!");
                // uncomment these lines to submit the form to form.action
                // form.validationEngine('detach');
                // form.submit();
                // or you may use AJAX again to submit the data
            }
        }

        jQuery(document).ready(function(){
            jQuery("#form_id").validationEngine({
                ajaxFormValidation: true,
                onAjaxFormComplete: ajaxValidationCallback,
                onBeforeAjaxFormValidation: beforeCall
            });
        });
    </script>

    <script type="text/javascript">
        function refresh() {
            document.getElementById('captcha_img').src="/kaptcha?"+Math.random();
        }
    </script>
    <style>
        form {
            margin:50px auto;
        }
    </style>
</head>
<body>
<p class="lead" align="center"><mark><strong>Xxxx店铺注册系统</strong></mark></p>
<form class="form-horizontal" id="form_id" action="/shop" method="post">
    <div class="form-group">
        <label for="inputShopName" class="col-sm-2 control-label">店铺名称</label>
        <div class="col-sm-3">
            <input type="text" class="validate[required,minSize[2],ajax[ajaxUserCall]]" id="inputShopName" name="inputShopName">
        </div>
    </div>
    <div class="form-group">
        <label for="inputShopDesc" class="col-sm-2 control-label">店铺描述</label>
        <div class="col-sm-3">
            <textarea class="validate[required,minSize[6],maxSize[30]]" id="inputShopDesc" name="inputShopDesc" rows="3"></textarea>
        </div>
    </div>
    <div class="form-group">
        <label for="inputShopAddr" class="col-sm-2 control-label">店铺地址</label>
        <div class="col-sm-3">
            <input type="text" class="validate[required,minSize[6],maxSize[30],ajax[ajaxNameCall]]" id="inputShopAddr" name="inputShopAddr">
        </div>
    </div>
    <div class="form-group">
        <label for="inputPhone" class="col-sm-2 control-label">联系电话</label>
        <div class="col-sm-3">
            <input type="text" class="validate[required,custom[phone]]" id="inputPhone" name="inputPhone">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">所在区域</label>
        <div class="col-sm-1">
            <select class="form-control" name="areaId">
                <option>东苑</option>
                <option>西苑</option>
                <option>北苑</option>
                <option>南苑</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label  class="col-sm-2 control-label">所属分类</label>
        <div class="col-sm-1">
            <select class="form-control" name="areaId">
                <option>二手市场</option>
                <option>美容美发</option>
                <option>美食饮品</option>
                <option>休闲娱乐</option>
                <option>培训教育</option>
                <option>交通工具</option>
            </select>
        </div>
        <div class="col-sm-1">
            <select class="form-control" name="areaId">
                <option>旧书</option>
                <option>二手书籍</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">门面照</label>
        <div class="col-sm-2">
            <input type="file" class="form-control"  name="phone">
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label">验证码</label>
        <div class="col-sm-1">
            <input type="text" class="form-control" name="verifyCodeActual">
        </div>
        <div class="col-sm-1">
            <img id="captcha_img" alt="点击更换" title="点击更换"
                 onclick="refresh()" src="/kaptcha" />
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2 control-label"></label>
        <div class="col-sm-1">
            <input type="submit" class="form-control btn-success" id="submit" value="注册">
        </div>
        <div class="col-sm-1">
            <input type="reset" class="form-control btn-danger" id="reset" value="重置">
        </div>
    </div>
</form>
</body>
</html>